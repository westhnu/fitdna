# FIT-DNA 프로젝트 진행 현황 보고서

**작성일:** 2025-11-23
**작성자:** 데이터 분석 담당
**목적:** 회의 참고 자료

---

## 📋 목차
1. [프로젝트 개요](#1-프로젝트-개요)
2. [완료된 작업 (Phase 1 & 2)](#2-완료된-작업)
3. [주요 성과 및 인사이트](#3-주요-성과-및-인사이트)
4. [다음 단계 작업](#4-다음-단계-작업)
5. [회의 논의사항](#5-회의-논의사항)
6. [산출물 목록](#6-산출물-목록)

---

## 1. 프로젝트 개요

### 1.1 FIT-DNA란?
국민체력100 데이터 기반으로 개인의 체력을 **3개 축(근력, 유연성, 지구력)**으로 분석하여
**8가지 체력 유형**으로 분류하는 "체력 MBTI" 시스템

### 1.2 8가지 FIT-DNA 유형
```
근력: Power (P) / Light (L)
유연성: Flexibility (F) / Stiff (S)
지구력: Endurance (E) / Quick (Q)

→ 총 8가지 조합: PFE, PFQ, PSE, PSQ, LFE, LFQ, LSE, LSQ
```

### 1.3 담당 업무
- 데이터 분석 및 전처리
- FIT-DNA 모델링
- 추천 시스템 알고리즘 설계

---

## 2. 완료된 작업

### ✅ Phase 1: 데이터 분석 및 인사이트 도출 (완료)

#### 2.1 데이터 구조 분석
- **분석 대상:** 115,983건 (국민체력100 측정 데이터)
- **FIT-DNA 유형:** 8가지
- **주요 변수:** 연령대, 성별, strength_z, flex_z, endurance_z

**주요 컬럼:**
| 컬럼명 | 설명 | 타입 |
|--------|------|------|
| AGRDE_FLAG_NM | 연령대 구분 | object |
| MESURE_AGE_CO | 측정 당시 나이 | int64 |
| SEXDSTN_FLAG_CD | 성별 (M/F) | object |
| strength_z | 근력 Z-Score | float64 |
| flex_z | 유연성 Z-Score | float64 |
| endurance_z | 지구력 Z-Score | float64 |
| FIT_DNA | 체력 유형 코드 | object |

#### 2.2 FIT-DNA 유형별 분포 분석

**유형별 인원 분포:**
| 순위 | 유형 | 인원 | 비율 | 특징 |
|------|------|------|------|------|
| 1 | PFE | 24,700명 | 21.3% | 전천후 체력왕 (모든 축 우수) |
| 2 | LSQ | 21,925명 | 18.9% | 기초 체력 향상 필요형 (모든 축 낮음) |
| 3 | LFQ | 14,438명 | 12.4% | 유연성 특화형 |
| 4 | PFQ | 12,980명 | 11.2% | 순발력형 파워 |
| 5 | LSE | 11,108명 | 9.6% | 지구력 특화형 |
| 6 | PSE | 10,947명 | 9.4% | 파워 지구력형 |
| 7 | LFE | 10,460명 | 9.0% | 유연한 지구력형 |
| 8 | PSQ | 9,425명 | 8.1% | 순간 파워형 |

**유형 간 유사도 (유클리드 거리):**
- **가장 유사:** LSE ↔ PSE (거리 1.075)
- **가장 다름:** LSQ ↔ PFE (거리 2.888)

#### 2.3 연령대/성별 패턴 분석

**연령대별 주요 유형:**
- 성인: PFE (22.9%)
- 어르신: PFE (26.6%)
- 청소년: PFE (19.8%)
- 유소년: LSQ (20.7%)

**성별 차이:**
- 남성 주요 유형: PFE (22.0%)
- 여성 주요 유형: PFE (20.3%)
- 악력: 남성 평균 45kg vs 여성 평균 27kg (약 1.7배 차이)

---

### ✅ Phase 2: 모델링 및 추천 시스템 (일부 완료)

#### 2.4 운동 메이트 매칭 알고리즘 ✅

**구현 내용:**
- 유클리드 거리, 코사인 유사도, 맨하탄 거리 계산
- 3단계 유사도 레벨 분류
  - 레벨 1 (매우 유사): 거리 < 1.2
  - 레벨 2 (유사): 거리 1.2 ~ 2.0
  - 레벨 3 (다름): 거리 > 2.0

**매칭 점수 계산 로직:**
```python
매칭 점수 = Z-Score 유사도 (60%) + FIT-DNA 유형 유사도 (40%)
+ 운동 선호도 일치 보너스 (+10%)

→ 최종 점수: 0~100점
```

**유형별 추천 예시:**
- PFE → LFE (거리 1.117, 매우 유사)
- LSQ → PSQ (거리 1.272, 유사)
- LFQ → PFQ (거리 1.170, 매우 유사)

#### 2.5 강점/약점 분석 로직 ✅

**구현 내용:**
- Z-Score 기준 6단계 수준 분류
  - 매우 우수: Z-Score ≥ 1.0
  - 우수: Z-Score ≥ 0.5
  - 평균 이상: Z-Score ≥ 0.0
  - 평균 이하: Z-Score ≥ -0.5
  - 개선 필요: Z-Score ≥ -1.0
  - 적극 개선 필요: Z-Score < -1.0

**강점/약점 자동 판단:**
- 강점: Z-Score > 0인 축
- 약점: Z-Score < 0인 축
- 균형도: 3개 축의 표준편차 < 0.3이면 균형잡힌 체력

**개인 맞춤 피드백 생성:**
```
예시:
[PFE 유형 분석 결과]
당신은 PFE 유형 중 상위 25%에 속합니다.

[강점]
  • 근력: 우수 (상위 20%, Z-Score: +0.68)
  • 유연성: 우수 (상위 15%, Z-Score: +0.81)
  • 지구력: 매우 우수 (상위 10%, Z-Score: +0.88)

[종합 평가]
  균형 잡힌 체력을 보유하고 있습니다.
```

---

### 📝 서비스 구현 가이드 문서 작성 ✅

#### 2.6 FIT-DNA 서비스 가이드

**주요 내용:**
1. **측정항목 매핑표** (15개 항목)
   - 근력: 8개 (필수 3개: 악력 좌/우, 제자리멀리뛰기)
   - 유연성: 1개 (필수: 앉아윗몸앞으로굽히기)
   - 지구력: 6개 (필수 1개: VO₂max)

2. **최소 필수 입력 = 5개 항목**
   ```
   1. 악력(좌) - kg
   2. 악력(우) - kg
   3. 제자리멀리뛰기 - cm
   4. 앉아윗몸앞으로굽히기 - cm
   5. VO₂max - mL/kg/min
   ```

3. **성별 구분 필수**
   - 이유: 연령대 × 성별 그룹별 표준화(Z-Score) 계산 필요
   - 남녀 체력 차이가 크므로 정확한 평가를 위해 필수

4. **FIT-DNA 계산 프로세스**
   ```
   기본정보 입력 → 측정값 입력 → 연령대×성별 그룹 매칭
   → Z-Score 표준화 → 축별 평균 계산 → 50% 기준 상/하 분류
   → FIT-DNA 코드 생성
   ```

---

## 3. 주요 성과 및 인사이트

### 3.1 데이터 인사이트

**✅ 발견된 패턴:**
1. **가장 많은 유형 = PFE (21.3%)**
   - 전반적으로 균형잡힌 체력을 가진 사람이 가장 많음
   - 서비스 타겟층으로 우선 고려 필요

2. **가장 적은 유형 = PSQ (8.1%)**
   - 근력은 높지만 유연성/지구력이 낮은 유형
   - 희소 유형, 특화 콘텐츠 제공 검토

3. **연령대별 특징**
   - 성인/어르신: PFE 유형이 가장 많음 (균형잡힌 체력)
   - 유소년: LSQ 유형이 가장 많음 (전반적 체력 향상 필요)

4. **성별 차이**
   - 근력: 남성이 여성보다 약 1.7배 높음
   - 유연성: 여성이 남성보다 약 20% 높음
   - → 성별 구분 필수!

### 3.2 알고리즘 성과

**✅ 매칭 알고리즘:**
- 8개 유형 간 28개 쌍 분석
- 레벨 1 (매우 유사): 4쌍
- 레벨 2 (유사): 대부분
- 레벨 3 (다름): 5쌍

**✅ 강점/약점 분석:**
- 유형별 강점 개수:
  - 3개 강점: PFE (1개 유형)
  - 0개 강점: LSQ (1개 유형)
- 균형잡힌 유형: PFE, LSQ (표준편차 작음)

---

## 4. 다음 단계 작업

### 🔜 Phase 2 완료를 위한 남은 작업 (2개)

#### 4.1 운동 추천 규칙 엔진 (미완료)

**구현 예정 내용:**
```python
# 1. 유형별 운동 매핑
PFE (전천후):
  - 추천: 크로스핏, HIIT, 복합 운동
  - 실내: 크로스핏 박스, 종합 PT
  - 실외: 트레일 러닝, 사이클링

LSQ (기초 향상):
  - 추천: 가벼운 유산소, 스트레칭, 기초 근력
  - 실내: 요가, 필라테스, 워킹머신
  - 실외: 산책, 스트레칭

# 2. 약점 기반 보완 운동
근력 약점 → 웨이트 트레이닝 추가
유연성 약점 → 요가/스트레칭 우선
지구력 약점 → 유산소 운동 강화

# 3. 난이도별 루틴
초보: 주 2~3회, 20~30분
중급: 주 3~4회, 40~50분
고급: 주 5~6회, 60분+

# 4. 1주일 루틴 자동 구성
- 요일별 운동 배분
- 휴식일 포함
- 강도 조절
```

**예상 산출물:**
- 8개 유형별 추천 운동 테이블 (CSV)
- 유형별 1주일 루틴 예시
- 운동 추천 시각화

---

#### 4.2 체력 변화 예측 모델 (미완료)

**구현 예정 내용:**
```python
# 1. 재측정 데이터 분석
- 현재 데이터에서 2회 이상 측정자 추출
- 측정 간격, 변화량 계산
- 평균 변화율 분석

# 2. 6개월 후 예측 모델
- 입력: 현재 Z-Score, 연령, 성별, FIT-DNA
- 출력: 6개월 후 예상 Z-Score
- 모델: Linear Regression / Random Forest

# 3. Consistency Score (꾸준함 점수)
- 측정 주기의 규칙성
- 변화량의 일관성
- 0~100점 스케일

# 4. FIT-DNA 유형 변경 가능성
- 6개월 후 예상 유형
- 유형 변경 확률 계산
```

**예상 산출물:**
- 재측정자 통계 분석 리포트
- 예측 모델 코드 (Python)
- 예측 정확도 평가 지표
- 체력 변화 예측 그래프

---

## 5. 회의 논의사항

### 🤔 결정 필요 사항

#### 5.1 데이터 관련

**Q1. 측정 항목 범위**
- [ ] 현재: 15개 항목 (필수 5개)
- [ ] 문제: 사용자가 5개 항목을 모두 측정하기 어려울 수 있음
- **논의 필요:**
  - 필수 항목을 더 줄일 수 있는가? (예: 3개만 필수)
  - 사진 업로드 OCR 기능을 우선 개발할 것인가?
  - 국민체력100 기관과 연계 가능한가?

**Q2. 성별 이외의 추가 변수**
- [ ] 현재: 연령대 × 성별만 고려
- **논의 필요:**
  - BMI, 키, 몸무게 추가 고려?
  - 운동 경험, 직업군 등 추가?
  - 데이터 수집 범위 확대?

#### 5.2 서비스 기능 관련

**Q3. 운동 추천 범위**
- [ ] 현재 계획: 8개 유형별 5~7개 운동 추천
- **논의 필요:**
  - 운동 종류를 어디까지 포함? (홈트/헬스장/야외 등)
  - 장비 필요 여부 구분?
  - 유튜브 영상 링크 제공?

**Q4. 매칭 알고리즘 추가 필터**
- [ ] 현재: FIT-DNA 유사도만 고려
- **논의 필요:**
  - 위치 기반 필터 추가? (주변 1~2km)
  - 운동 시간대 필터 (아침/점심/저녁)
  - 나이대 제한 (예: ±5세 이내)

**Q5. 체력 변화 예측 주기**
- [ ] 현재 계획: 6개월 후 예측
- **논의 필요:**
  - 1개월, 3개월 단위도 제공?
  - 재측정 권장 주기는?

#### 5.3 기술 구현 관련

**Q6. 모델링 방법론**
- [ ] 현재: 규칙 기반 (Z-Score, 유클리드 거리)
- **논의 필요:**
  - 머신러닝 모델 도입? (Random Forest, XGBoost 등)
  - 딥러닝 필요성? (과적합 위험 vs 정확도)

**Q7. 실시간 vs 배치 처리**
- **논의 필요:**
  - FIT-DNA 계산: 실시간 (사용자 입력 즉시)
  - 매칭 추천: 배치 처리 (일 1회 업데이트)
  - 예측 모델: 배치 처리

---

### 💡 개선 제안 사항

#### 제안 1: 간편 측정 모드
```
[기본 모드] 15개 항목 입력 → 정확한 FIT-DNA
[간편 모드] 5개 필수 항목만 → 빠른 FIT-DNA
[초간편 모드] 3개 항목 + 자가평가 → 간단한 FIT-DNA
```

#### 제안 2: 챌린지 기능
```
- "6개월 챌린지": 6개월 후 예측 FIT-DNA 달성하기
- "약점 보완 챌린지": 가장 낮은 축 개선하기
- "매칭 운동": 비슷한 유형끼리 함께 운동
```

#### 제안 3: 게이미피케이션
```
- FIT-DNA 배지 획득 (8개 유형 수집)
- 레벨업 시스템 (체력 향상 시)
- 리더보드 (같은 유형 내 순위)
```

---

## 6. 산출물 목록

### 📊 Phase 1 산출물 (11개 파일)

#### Python 스크립트
1. `phase1_fitdna_analysis.py` - 데이터 구조 분석
2. `phase1_fitdna_type_analysis.py` - 유형별 특성 분석
3. `phase1_demographic_analysis.py` - 연령/성별 패턴 분석

#### 시각화 파일
4. `phase1_fitdna_type_distribution.png` (829KB) - 유형 분포 및 특성
5. `phase1_fitdna_radar_charts.png` (1.7MB) - 8가지 유형별 레이더 차트
6. `phase1_demographic_analysis.png` (834KB) - 연령/성별 분석
7. `phase1_gender_age_fitdna_detail.png` (236KB) - 성별×연령 상세

#### 리포트 파일
8. `phase1_data_structure_report.txt` - 데이터 구조 보고서
9. `phase1_fitdna_type_analysis_report.txt` - 유형 분석 보고서
10. `phase1_demographic_analysis_report.txt` - 인구통계 보고서
11. `PHASE1_FINAL_SUMMARY_REPORT.txt` - 종합 보고서

---

### 📊 Phase 2 산출물 (6개 파일)

#### Python 스크립트
1. `phase2_matching_algorithm.py` - 매칭 알고리즘
2. `phase2_strength_weakness_analysis.py` - 강점/약점 분석

#### 데이터 파일
3. `matching_euclidean_distance_matrix.csv` - 유클리드 거리 행렬
4. `matching_cosine_similarity_matrix.csv` - 코사인 유사도 행렬

#### 시각화 파일
5. `phase2_matching_algorithm_analysis.png` (630KB) - 매칭 분석
6. `phase2_strength_weakness_analysis.png` (1.3MB) - 강점/약점 분석

#### 리포트 파일
7. `phase2_matching_algorithm_report.txt` - 매칭 알고리즘 리포트
8. `phase2_strength_weakness_report.txt` - 강점/약점 분석 리포트

---

### 📊 서비스 가이드 (3개 파일)

1. `FIT_DNA_SERVICE_GUIDE.md` (15KB) - 전체 서비스 구현 가이드
2. `FIT_DNA_측정항목_매핑표.csv` - 측정 항목 정리 (엑셀용)
3. `FIT_DNA_측정항목_매핑표.txt` - 측정 항목 상세 설명

---

### 📊 기타 산출물

4. `PHASE2_PLAN.md` - Phase 2 작업 계획서
5. `generate_measurement_mapping_table.py` - 매핑표 생성 스크립트

---

## 7. 타임라인 및 일정

### 완료된 작업
- ✅ 2025-11-23: Phase 1 완료 (데이터 분석)
- ✅ 2025-11-23: 서비스 가이드 작성
- ✅ 2025-11-23: Phase 2 일부 완료 (매칭, 강점/약점)

### 남은 작업 예상 일정
- 📅 예정: 운동 추천 규칙 엔진 (1~2일 소요)
- 📅 예정: 체력 변화 예측 모델 (1~2일 소요)

---

## 8. 빠른 참조 (Quick Reference)

### 핵심 수치
```
총 데이터: 115,983건
FIT-DNA 유형: 8가지
분석 변수: 3개 축 (근력, 유연성, 지구력)
최소 필수 입력: 5개 항목
매칭 레벨: 3단계
강점/약점 분류: 6단계
```

### 주요 파일 경로
```
데이터: 최종/최종/체력측정 항목별 측정 데이터/fit_dna_preprocessed_cp949.csv
Phase 1 리포트: PHASE1_FINAL_SUMMARY_REPORT.txt
서비스 가이드: FIT_DNA_SERVICE_GUIDE.md
매칭 알고리즘: phase2_matching_algorithm.py
강점/약점 분석: phase2_strength_weakness_analysis.py
```

### 핵심 함수
```python
# 매칭
recommend_matches(user_fitdna, top_n=3, similarity_level='level1')
calculate_matching_score(user1_zscore, user2_zscore, ...)

# 강점/약점
get_strength_weakness(strength_z, flex_z, endurance_z)
get_percentile_within_type(fitdna_type, strength_z, flex_z, endurance_z, df)
generate_feedback_text(fitdna_type, strength_z, flex_z, endurance_z, df)
```

---

## 9. 연락처 및 참고자료

### 관련 문서
- 프로젝트 IA: (별도 제공된 IA 문서 참조)
- 국민체력100: https://nfa.kspo.or.kr

### 데이터 출처
- 국민체력100 종합 데이터
- 측정 기간: ~2025년 7월
- 데이터 건수: 115,983건

---

## 📌 회의 체크리스트

회의 시 확인할 사항:

- [ ] Phase 1 분석 결과 검토
- [ ] Phase 2 완료 작업 확인 (매칭, 강점/약점)
- [ ] 서비스 가이드 검토
- [ ] 측정 항목 범위 결정 (Q1)
- [ ] 운동 추천 범위 결정 (Q3)
- [ ] 매칭 알고리즘 추가 필터 논의 (Q4)
- [ ] 다음 작업 우선순위 결정
- [ ] 일정 조율

---

**문서 끝**

이 문서는 FIT-DNA 프로젝트의 현재 진행 상황과 다음 단계를 요약한 것입니다.
회의 시 참고 자료로 활용하시기 바랍니다.

---

## 9. 서버 배포 계획 (추후 진행)

### 9.1 배포 옵션 비교

| 옵션 | 월 비용 | 외부 접속 | HTTPS | 난이도 | 프로토타입 적합도 |
|------|---------|-----------|-------|--------|------------------|
| **학교 서버 (SSH)** | **$0** | △ | △ | 쉬움 | ⭐⭐⭐⭐⭐ |
| AWS Lightsail | $5 | ✅ | ✅ | 보통 | ⭐⭐⭐⭐ |
| AWS EC2 | $15~40 | ✅ | ✅ | 어려움 | ⭐⭐⭐ |

### 9.2 단계별 배포 전략

**Phase 1: 개발 초기 → 학교 서버 $0**
```
목적: 팀 내부 테스트
구성: FastAPI + SQLite + ngrok
기간: 1~2주
```

**Phase 2: 외부 테스트 → AWS Lightsail $5/월**
```
목적: 외부 접속, 안정적 운영
구성: FastAPI + PostgreSQL + Nginx + SSL
기간: 2~4주
```

**Phase 3: 정식 출시 (검토) → AWS EC2 $30~50/월**
```
목적: 확장성, 성능, 안정성
구성: AWS EC2 + RDS + S3
```

### 9.3 예정 API 명세

```python
# FIT-DNA 계산
POST /api/calculate-fitdna
→ Response: { "fitdna": "PFE", "z_scores": {...}, "strengths": [...] }

# 강점/약점 분석
GET /api/analysis/{fitdna}
→ Response: { "strengths": [...], "weaknesses": [...] }

# 매칭 추천
POST /api/matching
→ Response: { "matches": [{ "fitdna": "LFE", "score": 85.3 }] }

# 운동 추천
GET /api/recommendations/{fitdna}
→ Response: { "exercises": [...], "routines": {...} }
```

### 9.4 배포 체크리스트

**서버 선택**
- [ ] 학교 서버 사용 가능 여부 확인
- [ ] SSH 접속 계정 발급
- [ ] 포트 개방 가능 여부 확인

**기술 스택**
- [ ] FastAPI 또는 Flask
- [ ] SQLite 또는 PostgreSQL
- [ ] ngrok 또는 도메인

**참고:** 상세 내용은 `SERVER_DEPLOYMENT_GUIDE.md` 참조

---

**최종 업데이트:** 2025-11-23 (서버 배포 계획 추가)
