# FIT-DNA Phase 2: 모델링 및 추천 시스템 개발

## 📋 수정된 Phase 2 계획

부상 위험도 예측을 **제외**하고, **강점/약점 분석**을 추가합니다.

---

## 🎯 Phase 2 목표

1. **운동 메이트 매칭 알고리즘** - FIT-DNA 유사도 기반
2. **강점/약점 분석 로직** - 개인별 체력 강점/약점 자동 판단
3. **운동 추천 규칙 엔진** - 유형별 맞춤 운동 추천
4. **체력 변화 예측 모델** - 6개월 후 체력 변화 예측

---

## 📝 상세 작업 내역

### Task 1: 운동 메이트 매칭 알고리즘
**IA 연결:** "운동 메이트 매칭 > FIT-DNA 기반 매칭"

**구현 내용:**
```python
# 1. FIT-DNA 유사도 계산
- 유클리드 거리 기반 유사도
- 코사인 유사도
- 맨하탄 거리

# 2. 유사도 레벨 분류
- 레벨 1 (매우 유사): 거리 < 1.2
- 레벨 2 (유사): 거리 1.2 ~ 2.0
- 레벨 3 (다름): 거리 > 2.0

# 3. 필터링 옵션
- 운동 종목 선택 (러닝/헬스/요가/수영 등)
- 유사도 차이 선택 (0~1개, 2~3개)
- 위치/시간대 (추후 확장)

# 4. 매칭 스코어링
- FIT-DNA 유사도 60%
- 운동 선호도 40%
```

**출력:**
- 매칭 알고리즘 Python 함수
- 유사도 계산 예시
- 매칭 결과 시각화

---

### Task 2: 강점/약점 분석 로직 ⭐ 신규
**IA 연결:** "FIT-DNA > 결과 보기 > 강점/약점 분석"

**구현 내용:**
```python
# 1. 개인 Z-Score 기준 분석
- 근력/유연성/지구력 3개 축 Z-Score
- 각 축별 상대적 위치 판단

# 2. 강점 판단 기준
- Z-Score > +0.5: 매우 우수
- Z-Score > 0: 평균 이상
- Z-Score < 0: 평균 이하
- Z-Score < -0.5: 개선 필요

# 3. 약점 우선순위 계산
- 가장 낮은 Z-Score 축 → 1순위 개선 대상
- 두번째 낮은 축 → 2순위

# 4. 동일 유형 내 비교
- 같은 FIT-DNA 유형 내에서의 상대적 위치
- 백분위 계산 (예: 상위 30%)

# 5. 텍스트 피드백 생성
- "당신은 PFE 유형 중 상위 25%에 속합니다"
- "근력이 강점이며, 지구력도 우수합니다"
- "유연성 개선을 위해 스트레칭을 추천합니다"
```

**출력:**
- 강점/약점 분석 함수
- 유형별 강점/약점 통계
- 피드백 템플릿
- 시각화 (레이더 차트 + 강점 하이라이트)

---

### Task 3: 운동 추천 규칙 엔진
**IA 연결:** "FIT-DNA > 결과 보기 > 추천 운동 / 추천 루틴"

**구현 내용:**
```python
# 1. 유형별 운동 매핑
PFE (전천후):
  - 크로스핏, HIIT, 복합 운동
  - 실내: 크로스핏 박스, 종합 PT
  - 실외: 트레일 러닝, 사이클링

LSQ (기초 향상):
  - 가벼운 유산소, 스트레칭, 기초 근력
  - 실내: 요가, 필라테스, 워킹머신
  - 실외: 산책, 스트레칭

# 2. 약점 기반 보완 운동
근력 약점 → 웨이트 트레이닝 추가
유연성 약점 → 요가/스트레칭 우선
지구력 약점 → 유산소 운동 강화

# 3. 난이도별 루틴
초보: 주 2~3회, 20~30분
중급: 주 3~4회, 40~50분
고급: 주 5~6회, 60분+

# 4. 1주일 루틴 자동 구성
- 요일별 운동 배분
- 휴식일 포함
- 강도 조절
```

**출력:**
- 유형별 운동 매핑 테이블
- 루틴 생성 함수
- 실제 추천 예시 (8개 유형별)

---

### Task 4: 체력 변화 예측 모델
**IA 연결:** "마이페이지 > 월간 운동 리포트 / 6개월마다 재검 요청"

**구현 내용:**
```python
# 1. 재측정 데이터 분석
- 현재 데이터에서 2회 이상 측정자 추출
- 측정 간격, 변화량 계산

# 2. 시계열 회귀 모델
- 입력: 현재 체력 Z-Score, 연령, 성별
- 출력: 6개월 후 예상 Z-Score
- 모델: Linear Regression / Random Forest

# 3. Consistency Score (꾸준함 점수)
- 측정 주기의 규칙성
- 변화량의 일관성
- 0~100점 스케일

# 4. 6개월 후 예상 FIT-DNA
- Z-Score 변화 예측
- 유형 변경 가능성 계산
```

**출력:**
- 재측정자 통계 분석
- 예측 모델 구현
- 예측 정확도 평가
- Consistency Score 계산 로직

---

## 🗂️ Phase 2 산출물 예상

### Python 스크립트
1. `phase2_matching_algorithm.py` - 매칭 알고리즘
2. `phase2_strength_weakness_analysis.py` - 강점/약점 분석
3. `phase2_exercise_recommendation.py` - 운동 추천 엔진
4. `phase2_fitness_prediction.py` - 체력 변화 예측

### 데이터/리포트
1. `matching_similarity_matrix.csv` - 유형 간 유사도 행렬
2. `strength_weakness_report.txt` - 강점/약점 분석 결과
3. `exercise_recommendation_rules.csv` - 운동 추천 규칙표
4. `prediction_model_evaluation.txt` - 예측 모델 평가

### 시각화
1. `phase2_matching_network.png` - 매칭 네트워크 그래프
2. `phase2_strength_weakness_charts.png` - 강점/약점 분석 차트
3. `phase2_exercise_recommendations.png` - 운동 추천 시각화
4. `phase2_prediction_trends.png` - 체력 변화 예측 그래프

---

## ✅ Phase 2 시작 체크리스트

- [x] Phase 1 완료 (데이터 분석)
- [x] Phase 2 계획 수정 (부상 위험도 → 강점/약점)
- [ ] Task 1: 매칭 알고리즘 구현
- [ ] Task 2: 강점/약점 분석 구현
- [ ] Task 3: 운동 추천 규칙 정의
- [ ] Task 4: 예측 모델 개발

---

**작성일:** 2025-11-23
**버전:** 2.0 (수정본)
